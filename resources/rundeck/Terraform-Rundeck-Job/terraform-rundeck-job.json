{
    "typeName": "Terraform::Rundeck::Job",
    "description": "The job resource allows Rundeck jobs to be managed by Terraform. In Rundeck a job is a particular\nnamed set of steps that can be executed against one or more of the nodes configured for its\nassociated project.\n\nEach job belongs to a project. A project can be created with the `rundeck_project` resource.",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "definitions": {
        "Command": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Description": {
                    "type": "string"
                },
                "InlineScript": {
                    "type": "string"
                },
                "ScriptFile": {
                    "type": "string"
                },
                "ScriptFileArgs": {
                    "type": "string"
                },
                "ShellCommand": {
                    "type": "string"
                },
                "Job": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "$ref": "#/definitions/Job"
                    }
                },
                "NodeStepPlugin": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "$ref": "#/definitions/NodeStepPlugin"
                    }
                },
                "StepPlugin": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "$ref": "#/definitions/StepPlugin"
                    }
                }
            },
            "required": []
        },
        "Notification": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Type": {
                    "type": "string"
                },
                "WebhookUrls": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "type": "string"
                    }
                },
                "Email": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "$ref": "#/definitions/Email"
                    }
                },
                "Plugin": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "$ref": "#/definitions/Plugin"
                    }
                }
            },
            "required": [
                "Type"
            ]
        },
        "Option": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "AllowMultipleValues": {
                    "type": "boolean"
                },
                "DefaultValue": {
                    "type": "string"
                },
                "Description": {
                    "type": "string"
                },
                "ExposedToScripts": {
                    "type": "boolean"
                },
                "MultiValueDelimiter": {
                    "type": "string"
                },
                "Name": {
                    "type": "string"
                },
                "ObscureInput": {
                    "type": "boolean"
                },
                "RequirePredefinedChoice": {
                    "type": "boolean"
                },
                "Required": {
                    "type": "boolean"
                },
                "ValidationRegex": {
                    "type": "string"
                },
                "ValueChoices": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "type": "string"
                    }
                },
                "ValueChoicesUrl": {
                    "type": "string"
                }
            },
            "required": [
                "Name"
            ]
        },
        "Job": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Args": {
                    "type": "string"
                },
                "GroupName": {
                    "type": "string"
                },
                "Name": {
                    "type": "string"
                },
                "Nodefilters": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "Key": {
                                "type": "string"
                            },
                            "Value": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "Key",
                            "Value"
                        ]
                    }
                },
                "RunForEachNode": {
                    "type": "boolean"
                }
            },
            "required": [
                "Name"
            ]
        },
        "NodeStepPlugin": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Config": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "Key": {
                                "type": "string"
                            },
                            "Value": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "Key",
                            "Value"
                        ]
                    }
                },
                "Type": {
                    "type": "string"
                }
            },
            "required": [
                "Type"
            ]
        },
        "StepPlugin": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Config": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "Key": {
                                "type": "string"
                            },
                            "Value": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "Key",
                            "Value"
                        ]
                    }
                },
                "Type": {
                    "type": "string"
                }
            },
            "required": [
                "Type"
            ]
        },
        "Email": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "AttachLog": {
                    "type": "boolean"
                },
                "Recipients": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "type": "string"
                    }
                },
                "Subject": {
                    "type": "string"
                }
            },
            "required": [
                "Recipients"
            ]
        },
        "Plugin": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Config": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "Key": {
                                "type": "string"
                            },
                            "Value": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "Key",
                            "Value"
                        ]
                    },
                    "description": "Map of arbitrary configuration properties for the selected plugin."
                },
                "Type": {
                    "type": "string",
                    "description": "The name of the plugin to use."
                }
            },
            "required": [
                "Type"
            ]
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "AllowConcurrentExecutions": {
            "type": "boolean",
            "description": "Boolean defining whether two or more executions of\nthis job can run concurrently. The default is `false`, meaning that jobs will only run\nsequentially."
        },
        "CommandOrderingStrategy": {
            "type": "string"
        },
        "ContinueOnError": {
            "type": "boolean",
            "description": "Boolean defining whether Rundeck will continue to run\nsubsequent steps if any intermediate step fails. Defaults to `false`, meaning that execution\nwill stop and the execution will be considered to have failed."
        },
        "Description": {
            "type": "string",
            "description": "A longer description of the job, describing the job in the Rundeck UI."
        },
        "ExecutionEnabled": {
            "type": "boolean",
            "description": "If you want job execution to be enabled or disabled. Defaults to `true`."
        },
        "GroupName": {
            "type": "string",
            "description": "The name of a group within the project in which to place the job.\nSetting this creates collapsable subcategories within the Rundeck UI's project job index."
        },
        "LogLevel": {
            "type": "string",
            "description": "The log level that Rundeck should use for this job. Defaults to \"INFO\"."
        },
        "MaxThreadCount": {
            "type": "number",
            "description": "The maximum number of threads to use to execute this job, which\ncontrols on how many nodes the commands can be run simulateneously. Defaults to 1, meaning that\nthe nodes will be visited sequentially."
        },
        "Name": {
            "type": "string",
            "description": "The name of the job, used to describe the job in the Rundeck UI."
        },
        "NodeFilterExcludePrecedence": {
            "type": "boolean"
        },
        "NodeFilterQuery": {
            "type": "string",
            "description": "A query string using\n[Rundeck's node filter language](http://rundeck.org/docs/manual/node-filters.html#node-filter-syntax)\nthat defines which subset of the project's nodes will be used to execute this job."
        },
        "PreserveOptionsOrder": {
            "type": "boolean"
        },
        "ProjectName": {
            "type": "string",
            "description": "The name of the project that this job should belong to."
        },
        "RankAttribute": {
            "type": "string",
            "description": "The name of the attribute that will be used to decide in which\norder the nodes will be visited while executing the job across multiple nodes."
        },
        "RankOrder": {
            "type": "string",
            "description": "Keyword deciding which direction the nodes are sorted in terms of\nthe chosen `rank_attribute`. May be either \"ascending\" (the default) or \"descending\"."
        },
        "Schedule": {
            "type": "string",
            "description": "The jobs schedule in Unix crontab format."
        },
        "ScheduleEnabled": {
            "type": "boolean",
            "description": "Sets the job schedule to be enabled or disabled. Defaults to `true`."
        },
        "SuccessOnEmptyNodeFilter": {
            "type": "boolean",
            "description": "Boolean determining if an empty node filter yields\na successful result."
        },
        "Command": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/Command"
            },
            "minItems": 1
        },
        "Notification": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/Notification"
            }
        },
        "Option": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/Option"
            }
        },
        "Job": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/Job"
            }
        },
        "NodeStepPlugin": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/NodeStepPlugin"
            }
        },
        "StepPlugin": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/StepPlugin"
            }
        },
        "Email": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/Email"
            }
        },
        "Plugin": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/Plugin"
            }
        }
    },
    "additionalProperties": false,
    "required": [
        "Description",
        "Name",
        "ProjectName"
    ],
    "readOnlyProperties": [
        "/properties/tfcfnid"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:PutObject",
                "secretsmanager:GetSecretValue"
            ]
        },
        "read": {
            "permissions": []
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:PutObject",
                "secretsmanager:GetSecretValue"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "secretsmanager:GetSecretValue"
            ]
        },
        "list": {
            "permissions": []
        }
    }
}