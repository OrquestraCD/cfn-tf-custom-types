{
    "typeName": "Terraform::OCI::CoreInstance",
    "description": "This resource provides the Instance resource in Oracle Cloud Infrastructure Core service.\n\nCreates a new instance in the specified compartment and the specified availability domain.\nFor general information about instances, see\n[Overview of the Compute Service](https://docs.cloud.oracle.com/iaas/Content/Compute/Concepts/computeoverview.htm).\n\nFor information about access control and compartments, see\n[Overview of the IAM Service](https://docs.cloud.oracle.com/iaas/Content/Identity/Concepts/overview.htm).\n\nFor information about availability domains, see\n[Regions and Availability Domains](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/regions.htm).\nTo get a list of availability domains, use the `ListAvailabilityDomains` operation\nin the Identity and Access Management Service API.\n\nAll Oracle Cloud Infrastructure resources, including instances, get an Oracle-assigned,\nunique ID called an Oracle Cloud Identifier (OCID).\nWhen you create a resource, you can find its OCID in the response. You can\nalso retrieve a resource's OCID by using a List API operation\non that resource type, or by viewing the resource in the Console.\n\nTo launch an instance using an image or a boot volume use the `sourceDetails` parameter in [LaunchInstanceDetails](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/20160918/LaunchInstanceDetails).\n\nWhen you launch an instance, it is automatically attached to a virtual\nnetwork interface card (VNIC), called the *primary VNIC*. The VNIC\nhas a private IP address from the subnet's CIDR. You can either assign a\nprivate IP address of your choice or let Oracle automatically assign one.\nYou can choose whether the instance has a public IP address. To retrieve the\naddresses, use the [ListVnicAttachments](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/20160918/VnicAttachment/ListVnicAttachments)\noperation to get the VNIC ID for the instance, and then call\n[GetVnic](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/20160918/Vnic/GetVnic) with the VNIC ID.\n\nYou can later add secondary VNICs to an instance. For more information, see\n[Virtual Network Interface Cards (VNICs)](https://docs.cloud.oracle.com/iaas/Content/Network/Tasks/managingVNICs.htm).",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "definitions": {
        "AgentConfig": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "IsManagementDisabled": {
                    "type": "boolean"
                },
                "IsMonitoringDisabled": {
                    "type": "boolean"
                }
            },
            "required": []
        },
        "CreateVnicDetails": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "AssignPublicIp": {
                    "type": "string"
                },
                "DefinedTags": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "MapKey": {
                                "type": "string"
                            },
                            "MapValue": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "MapKey",
                            "MapValue"
                        ]
                    }
                },
                "DisplayName": {
                    "type": "string"
                },
                "FreeformTags": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "MapKey": {
                                "type": "string"
                            },
                            "MapValue": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "MapKey",
                            "MapValue"
                        ]
                    }
                },
                "HostnameLabel": {
                    "type": "string"
                },
                "NsgIds": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "type": "string"
                    }
                },
                "PrivateIp": {
                    "type": "string"
                },
                "SkipSourceDestCheck": {
                    "type": "boolean"
                },
                "SubnetId": {
                    "type": "string"
                }
            },
            "required": [
                "SubnetId"
            ]
        },
        "LaunchOptions": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "BootVolumeType": {
                    "type": "string"
                },
                "Firmware": {
                    "type": "string"
                },
                "IsConsistentVolumeNamingEnabled": {
                    "type": "boolean"
                },
                "IsPvEncryptionInTransitEnabled": {
                    "type": "boolean"
                },
                "NetworkType": {
                    "type": "string"
                },
                "RemoteDataVolumeType": {
                    "type": "string"
                }
            },
            "required": []
        },
        "SourceDetails": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "BootVolumeSizeInGbs": {
                    "type": "string"
                },
                "KmsKeyId": {
                    "type": "string"
                },
                "SourceId": {
                    "type": "string"
                },
                "SourceType": {
                    "type": "string"
                }
            },
            "required": [
                "SourceId",
                "SourceType"
            ]
        },
        "Timeouts": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Create": {
                    "type": "string"
                },
                "Delete": {
                    "type": "string"
                },
                "Update": {
                    "type": "string"
                }
            },
            "required": []
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "AvailabilityDomain": {
            "type": "string",
            "description": "The availability domain of the instance.  Example: `Uocm:PHX-AD-1`."
        },
        "BootVolumeId": {
            "type": "string"
        },
        "CompartmentId": {
            "type": "string",
            "description": "(Updatable) The OCID of the compartment."
        },
        "DedicatedVmHostId": {
            "type": "string",
            "description": "The OCID of dedicated VM host."
        },
        "DefinedTags": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "MapKey": {
                        "type": "string"
                    },
                    "MapValue": {
                        "type": "string"
                    }
                },
                "required": [
                    "MapKey",
                    "MapValue"
                ]
            },
            "description": "(Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{\"Operations.CostCenter\": \"42\"}`."
        },
        "DisplayName": {
            "type": "string",
            "description": "(Updatable) A user-friendly name. Does not have to be unique, and it's changeable. Avoid entering confidential information.  Example: `My bare metal instance`."
        },
        "ExtendedMetadata": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "MapKey": {
                        "type": "string"
                    },
                    "MapValue": {
                        "type": "string"
                    }
                },
                "required": [
                    "MapKey",
                    "MapValue"
                ]
            },
            "description": "(Updatable) Additional metadata key/value pairs that you provide. They serve the same purpose and functionality as fields in the 'metadata' object."
        },
        "FaultDomain": {
            "type": "string",
            "description": "A fault domain is a grouping of hardware and infrastructure within an availability domain. Each availability domain contains three fault domains. Fault domains let you distribute your instances so that they are not on the same physical hardware within a single availability domain. A hardware failure or Compute hardware maintenance that affects one fault domain does not affect instances in other fault domains."
        },
        "FreeformTags": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "MapKey": {
                        "type": "string"
                    },
                    "MapValue": {
                        "type": "string"
                    }
                },
                "required": [
                    "MapKey",
                    "MapValue"
                ]
            },
            "description": "(Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{\"Department\": \"Finance\"}`."
        },
        "HostnameLabel": {
            "type": "string",
            "description": "Deprecated. Instead use `hostnameLabel` in [CreateVnicDetails](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/20160918/CreateVnicDetails/). If you provide both, the values must match."
        },
        "Id": {
            "type": "string"
        },
        "Image": {
            "type": "string",
            "description": "Deprecated. Use `sourceDetails` with [InstanceSourceViaImageDetails](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/latest/requests/InstanceSourceViaImageDetails) source type instead. If you specify values for both, the values must match."
        },
        "IpxeScript": {
            "type": "string",
            "description": "This is an advanced option."
        },
        "IsPvEncryptionInTransitEnabled": {
            "type": "boolean",
            "description": "Whether to enable in-transit encryption for the boot volume's paravirtualized attachment. The default value is false.\n* `network_type` - (Optional) Emulation type for the physical network interface card (NIC).\n* `E1000` - Emulated Gigabit ethernet controller.  Compatible with Linux e1000 network driver.\n* `VFIO` - Direct attached Virtual Function network controller. This is the networking type when you launch an instance using hardware-assisted (SR-IOV) networking.\n* `PARAVIRTUALIZED` - VM instances launch with paravirtualized devices using virtio drivers.\n* `remote_data_volume_type` - (Optional) Emulation type for volume.\n* `ISCSI` - ISCSI attached block storage device. This is the default for Boot Volumes and Remote Block Storage volumes on Oracle provided images.\n* `SCSI` - Emulated SCSI disk.\n* `IDE` - Emulated IDE disk.\n* `VFIO` - Direct attached Virtual Function storage.  This is the default option for Local data volumes on Oracle provided images.\n* `PARAVIRTUALIZED` - Paravirtualized disk."
        },
        "LaunchMode": {
            "type": "string"
        },
        "Metadata": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "MapKey": {
                        "type": "string"
                    },
                    "MapValue": {
                        "type": "string"
                    }
                },
                "required": [
                    "MapKey",
                    "MapValue"
                ]
            },
            "description": "(Updatable) Custom metadata key/value pairs that you provide, such as the SSH public key required to connect to the instance."
        },
        "PreserveBootVolume": {
            "type": "boolean",
            "description": "Specifies whether to delete or preserve the boot volume when terminating an instance. The default value is false. Note: This value only applies to destroy operations initiated by Terraform."
        },
        "PrivateIp": {
            "type": "string",
            "description": "A private IP address of your choice to assign to the VNIC. Value is ignored if a `vlanId` value is specified. Must be an available IP address within the subnet's CIDR. If you don't specify a value, Oracle automatically assigns a private IP address from the subnet. This is the VNIC's *primary* private IP address. The value appears in the [Vnic](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/20160918/Vnic/) object and also the [PrivateIp](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/20160918/PrivateIp/) object returned by [ListPrivateIps](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/20160918/PrivateIp/ListPrivateIps) and [GetPrivateIp](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/20160918/PrivateIp/GetPrivateIp).  Example: `10.0.3.3`\n* `skip_source_dest_check` - (Optional) (Updatable) Whether the source/destination check is disabled on the VNIC. Defaults to `false`, which means the check is performed. For information about why you would skip the source/destination check, see [Using a Private IP as a Route Target](https://docs.cloud.oracle.com/iaas/Content/Network/Tasks/managingroutetables.htm#privateip).  Example: `true`\n* `subnet_id` - (Required) The OCID of the subnet to create the VNIC in. When launching an instance, use this `subnetId` instead of the deprecated `subnetId` in [LaunchInstanceDetails](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/20160918/requests/LaunchInstanceDetails). Alternatively, the `vlanId` can be used instead of a `subnetId`. At least one `subnetId` value is required if this field is populated; if you provide both, the values must match. If both the `vlanId` and `subnetId` fields are provided, the launch will fail."
        },
        "PublicIp": {
            "type": "string"
        },
        "Region": {
            "type": "string"
        },
        "Shape": {
            "type": "string",
            "description": "(Updatable) The shape of an instance. The shape determines the number of CPUs, amount of memory, and other resources allocated to the instance."
        },
        "State": {
            "type": "string",
            "description": "(Updatable) The target state for the instance. Could be set to RUNNING or STOPPED."
        },
        "SubnetId": {
            "type": "string",
            "description": "Deprecated. Instead use `subnetId` in [CreateVnicDetails](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/20160918/CreateVnicDetails/). At least one of them is required; if you provide both, the values must match."
        },
        "SystemTags": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "MapKey": {
                        "type": "string"
                    },
                    "MapValue": {
                        "type": "string"
                    }
                },
                "required": [
                    "MapKey",
                    "MapValue"
                ]
            }
        },
        "TimeCreated": {
            "type": "string"
        },
        "TimeMaintenanceRebootDue": {
            "type": "string"
        },
        "AgentConfig": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/AgentConfig"
            },
            "maxItems": 1
        },
        "CreateVnicDetails": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/CreateVnicDetails"
            },
            "maxItems": 1
        },
        "LaunchOptions": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/LaunchOptions"
            },
            "maxItems": 1
        },
        "SourceDetails": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/SourceDetails"
            },
            "maxItems": 1
        },
        "Timeouts": {
            "$ref": "#/definitions/Timeouts"
        }
    },
    "additionalProperties": false,
    "required": [
        "AvailabilityDomain",
        "CompartmentId",
        "Shape"
    ],
    "readOnlyProperties": [
        "/properties/tfcfnid",
        "/properties/BootVolumeId",
        "/properties/Id",
        "/properties/LaunchMode",
        "/properties/PrivateIp",
        "/properties/PublicIp",
        "/properties/Region",
        "/properties/SystemTags",
        "/properties/TimeCreated",
        "/properties/TimeMaintenanceRebootDue"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:PutObject",
                "secretsmanager:GetSecretValue"
            ]
        },
        "read": {
            "permissions": []
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:PutObject",
                "secretsmanager:GetSecretValue"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "secretsmanager:GetSecretValue"
            ]
        },
        "list": {
            "permissions": []
        }
    }
}